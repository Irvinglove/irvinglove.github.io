---
layout: post
title: java内存分析
tags:
- java
- 内存分析
categories: java
description: Jacman 是一款扁平化，有着响应式设计的 Jekyll 主题。本站正式使用了 Jacman 主题。Jacman 基于 Jacman 的 Hexo 主题修改而来。你可以前往本站和 Demo 预览更多关于本主题的更多效果。如果你有任何问题或意见欢迎到 GitHub 发表 issue。
---
##主题介绍
寄存器：最快的存储区, 由编译器根据需求进行分配,我们在程序中无法控制.
首先我们先来讲解一下内存中的各个区域。
 stack（栈）：存放基本类型的数据和对象的引用，即存放变量。
如果存放的事基本类型的数据（非静态变量），则直接将变量名和值存入stack中的内存中；
如果是引用类型，则将变量名存入栈，然后指向它new出的对象（存放在堆中）。
heap（堆）：存放new产生的数据。
<!-- more -->
##寄存器介绍

寄存器：最快的存储区, 由编译器根据需求进行分配,我们在程序中无法控制.
首先我们先来讲解一下内存中的各个区域。
 stack（栈）：存放基本类型的数据和对象的引用，即存放变量。
如果存放的事基本类型的数据（非静态变量），则直接将变量名和值存入stack中的内存中；
如果是引用类型，则将变量名存入栈，然后指向它new出的对象（存放在堆中）。
heap（堆）：存放new产生的数据。
data segment：分为静态域和常量域。
静态域：
存放在对象中用static定义的静态成员（即静态变量，同理，如果该静态变量是基本类型则将变量名和值存入静态域，如果是引用类型则指向new出的对象）。
常量池：
常量池指的是在编译期被确定，并被保存在已编译的.class文件中的一些数据。除了包含代码中所定义的各种基本类型（如int、long等等）和对象型（如String及数组）的常量值(final)还包含一些以文本形式出现的符号引用，比如：类和接口的全限定名；字段的名称和描述符；方法和名称和描述符。
code segment：存放代码。
非RAM存储：硬盘等永久存储空间
```
##实例
下面我来举几个简单的小例子来让大家认识一下这几个区域具体存放的内容：
注：例1和例2中大家要注意String类型不是基本数据类型，所以它可以创建对象，并且它的值是放在常量池中的。
例1. 非静态和静态变量的创建：
String str = "abc";  static Int a = 10;  //创建String类型的变量str；创建Int类型变量a
内存解析：
这里的str是非静态变量所以将其放入到栈中，而静态变量a则需要放入静态域中，对于变量值"abc"和10则都应该放入到常量池当中
 
 
例2. 对象的创建：
String str=new String("abc");  //创建String类型的对象str
内存解析：
这里的str是String类型的对象，所以放入栈中，而new出来的东西则放入到堆中，对于初始值"abc"则放入到常量池中即可。

